(this["webpackJsonpfrontend-yandex"]=this["webpackJsonpfrontend-yandex"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(30),s=a.n(r),i=(a(36),a(37),a(38),a(10)),o=a(0);var l=function(){return Object(o.jsxs)("div",{className:"nav",children:[Object(o.jsx)("input",{type:"checkbox",id:"nav-check"}),Object(o.jsx)("div",{className:"nav-header",children:Object(o.jsx)("div",{className:"nav-title",children:"Yandex CRUD app"})}),Object(o.jsx)("div",{className:"nav-btn",children:Object(o.jsxs)("label",{htmlFor:"nav-check",children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]})}),Object(o.jsxs)("div",{className:"nav-links",children:[Object(o.jsx)(i.b,{to:"/",children:"Search"}),Object(o.jsx)(i.b,{to:"/create",children:"Create"}),Object(o.jsx)(i.b,{to:"/about",children:"About"})]})]})},u=a(2),j=a(6),b=a.n(j),d=a(11),p=a(9),h=(a(46),a(47),function(e){for(var t=e.actorsPerPage,a=e.totalactors,n=e.paginate,c=[],r=1;r<=Math.ceil(a/t);r++)c.push(r);return Object(o.jsx)("div",{className:"pagination-component",children:Object(o.jsx)("div",{className:"pagination",children:c.map((function(e){return Object(o.jsx)("span",{className:"page-number",children:Object(o.jsx)("span",{onClick:function(){return n(e)},className:"page-link",children:e})},e)}))})})});a(48),a(49);var m=function(e){var t=e.actor,a=t.actor_id,n=t.first_name;return Object(o.jsx)(i.b,{to:"/actor/".concat(a),children:Object(o.jsxs)("div",{className:"actor-card",children:[Object(o.jsx)("div",{className:"actor-image",children:Object(o.jsx)("img",{src:"https://robohash.org/".concat(a,"?set=set5&size=100x100"),alt:a})}),Object(o.jsxs)("div",{className:"details",children:[Object(o.jsx)("span",{className:"actor-name",children:n}),Object(o.jsx)("span",{children:a})]})]})})},x=function(e){var t=e.actors;return e.loading?Object(o.jsx)("h2",{children:"Loading..."}):Object(o.jsx)("div",{className:"actors-view",children:t.map((function(e){return Object(o.jsx)("div",{className:"actor-card-view",children:Object(o.jsx)(m,{actor:e})},e.actor_id)}))})},f=a(12),O=a.n(f),v=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(p.a)(r,2),i=s[0],l=s[1],u=Object(n.useState)("name"),j=Object(p.a)(u,2),m=j[0],f=j[1],v=Object(n.useState)(!1),g=Object(p.a)(v,2),N=g[0],y=g[1],_=Object(n.useState)(1),k=Object(p.a)(_,2),S=k[0],C=k[1],w=Object(n.useState)(12),D=Object(p.a)(w,1)[0],F=function(){var e=Object(d.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.prev=2,e.next=5,O.a.get("http://localhost:9000/api/actors/search".concat(m,"/").concat(i));case 5:a=e.sent,c(a.data),y(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),alert("no user found try again"),y(!1),c([]);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),L=S*D,P=L-D,A=a.slice(P,L);return Object(o.jsxs)("div",{className:"Search-page",children:[Object(o.jsx)("div",{className:"description",children:"Enter actor name / id to search"}),Object(o.jsx)("div",{className:"search-feature",children:Object(o.jsxs)("form",{className:"search-form",onSubmit:F,children:[Object(o.jsxs)("select",{className:"mode-selection",name:"mode-selection",value:m,onChange:function(e){f(e.target.value)},children:[Object(o.jsx)("option",{className:"mode-value",value:"name",children:"Name"}),Object(o.jsx)("option",{className:"mode-value",value:"id",children:"ID"})]}),Object(o.jsx)("input",{className:"search-input",type:"text",placeholder:"Type here",value:i,onChange:function(e){l(e.target.value)}}),Object(o.jsx)("input",{type:"submit",className:"search-button",value:"Submit"})]})}),Object(o.jsxs)("div",{className:"actorscontainer",children:[Object(o.jsx)(x,{actors:A,loading:N}),Object(o.jsx)(h,{actorsPerPage:D,totalactors:a.length,paginate:function(e){return C(e)}})]})]})},g=a(14),N=a(15);a(68);var y=function(e){var t=e.match,a=e.history,c=t.params.id,r=Object(n.useState)({actor_id:0,first_name:"",last_name:""}),s=Object(p.a)(r,2),i=s[0],l=s[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("http://localhost:9000/api/actors/searchid/".concat(c));case 3:t=e.sent,l(t.data[0]),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),alert("invalid id"),a.push("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[c,a]);var u=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(g.a)({},a,n))}))},j=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.put("http://localhost:9000/api/actor/edit/".concat(i.actor_id),i).then((function(e){return e.data})).then((function(e){alert(e.message),a.push("/")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("operation failed");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();console.log(i);var h=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("http://localhost:9000/api/actor/delete/".concat(i.actor_id)).then((function(e){return e.data})).then((function(e){return alert(e.message)}));case 3:a.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("operation failed");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"Actor-details",children:[Object(o.jsx)("div",{className:"actor-image",children:Object(o.jsx)("img",{src:"https://robohash.org/".concat(i.actor_id,"?set=set5&size=200x200"),alt:c})}),Object(o.jsxs)("form",{className:"actor-form",onSubmit:j,children:[Object(o.jsx)("input",{className:"first-name form-input",type:"text",name:"first_name",placeholder:"First Name",value:i.first_name,onChange:u}),Object(o.jsx)("input",{className:"last-name form-input",name:"last_name",type:"text",placeholder:"Last Name",value:i.last_name,onChange:u}),Object(o.jsx)("input",{type:"submit",className:"update-button button",value:"Update"})]}),Object(o.jsx)("button",{className:"delete-button button",onClick:h,children:"Delete"})]})};a(69);var _=function(e){var t=e.history,a=Object(n.useState)({actor_id:0,first_name:"",last_name:""}),c=Object(p.a)(a,2),r=c[0],s=c[1],i=function(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(g.a)({},a,n))}))},l=function(){var e=Object(d.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,O.a.post("http://localhost:9000/api/actor/add",r).then((function(e){return e.data}));case 4:n=e.sent,alert(n.message),t.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert("operation failed");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"Actor-details",children:Object(o.jsxs)("form",{className:"actor-form",onSubmit:l,children:[Object(o.jsx)("input",{className:"actor-id form-input",type:"text",name:"actor_id",placeholder:"ID",value:r.actor_id,onChange:i}),Object(o.jsx)("input",{className:"first-name form-input",type:"text",name:"first_name",placeholder:"First Name",value:r.first_name,onChange:i}),Object(o.jsx)("input",{className:"last-name form-input",name:"last_name",type:"text",placeholder:"Last Name",value:r.last_name,onChange:i}),Object(o.jsx)("input",{type:"submit",className:"create-button button",value:"Create Actor"})]})})};a(70);var k=function(){return Object(o.jsxs)("div",{className:"about",children:[Object(o.jsx)("p",{children:"This is a assessment for Yandex Web development position"}),Object(o.jsx)("p",{children:"made by using MYSQL local host, ExpressJS and ReactJS"}),Object(o.jsx)("p",{children:"by Chaitanya Krishna"}),Object(o.jsx)("a",{href:"https://github.com/vebb374/",children:" Github account"})]})};var S=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(i.a,{basename:"/crud-frontend",children:[Object(o.jsx)(l,{}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"/actor/:id",component:y}),Object(o.jsx)(u.a,{exact:!0,path:"/create",component:_}),Object(o.jsx)(u.a,{exact:!0,path:"/about",component:k}),Object(o.jsx)(u.a,{exact:!0,path:"/",component:v})]})]})})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root")),C()}},[[71,1,2]]]);
//# sourceMappingURL=main.2a0e9928.chunk.js.map